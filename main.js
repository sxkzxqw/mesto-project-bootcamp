(()=>{"use strict";function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,o){if(e){if("string"==typeof e)return t(e,o);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(e,o):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}function o(e,t,o){t?(e.disabled=!1,e.classList.remove(o.buttonDisabledSelector)):(e.disabled="disabled",e.classList.add(o.buttonDisabledSelector),e.classList.remove("buttons-hover"))}var n=document.querySelector(".places"),r=document.querySelector("#place-template").content,c=document.querySelector("#popup-delete-submit"),a=c.querySelector(".popup__button-delete_type_accept"),i=c.querySelector(".popup__button-delete_type_deny"),u=c.querySelector(".popup__close-button"),l=function(e){var t=r.querySelector(".place").cloneNode(!0);return t.querySelector(".place__image").src=e.link,t.querySelector(".place__name").textContent=e.name,t.querySelector(".place__image").alt="Картинка ".concat(e.name),t.querySelector(".place__image").addEventListener("click",(function(t){t.target.closest(".place")&&(A.src=e.link,C.textContent=e.name,A.alt="Картинка ".concat(e.name),b(j))})),t.querySelector(".place__like-button").addEventListener("click",(function(e){e.target.classList.toggle("place__like-button_type_active")})),t.querySelector(".place__delete-button").addEventListener("click",(function(e){b(c),a.addEventListener("click",(function(){e.target.closest(".place").remove(),v(c)}))})),t},p=document.querySelector(".profile__edit-button"),s=document.querySelector(".popup"),d=document.querySelector(".popup__close-button"),m=document.querySelector(".profile__name"),_=document.querySelector(".profile__description"),f=document.querySelector(".popup__form-text_type_name"),y=document.querySelector(".popup__form-text_type_description");f.value=m.textContent,y.value=_.textContent;var b=function(e){e.classList.add("popup_opened")},v=function(e){e.classList.remove("popup_opened")};function S(e){document.addEventListener("keydown",(function(t){"Escape"==t.key&&e.classList.contains("popup_opened")&&v(e)}))}function g(e){e.addEventListener("mousedown",(function(t){t.target.classList.contains("popup_opened")&&v(e)}))}var k=document.querySelector("#popup-add-card"),q=k.querySelector(".popup__close-button"),L=k.querySelector(".popup__form-text_type_name"),h=k.querySelector(".popup__form-text_type_description"),E=(k.querySelector(".popup__button"),k.querySelector(".popup__form")),x=document.querySelector(".profile__add-button"),j=document.querySelector("#popup-image");j.setAttribute("style","background-color: rgba(0, 0, 0, 0.9)");var w,A=j.querySelector(".popup__full-image"),C=j.querySelector(".popup__image-description");document.querySelector(".place__image"),j.querySelector(".popup__close-button").addEventListener("click",(function(e){e.target.closest(".popup__big-image")&&v(j)})),document.querySelector(".popup__form").addEventListener("submit",(function(e){e.preventDefault(),m.textContent=f.value,_.textContent=y.value,v(s)})),E.addEventListener("submit",(function(e){e.preventDefault();var t={};t.name=L.value,t.link=h.value;var o=l(t);n.prepend(o),v(k),e.target.reset()})),i.addEventListener("click",(function(){v(c)})),u.addEventListener("click",(function(){v(c)})),[{name:"Speedwagon",link:"https://ami.animecharactersdatabase.com/uploads/chars/5688-1493820448.jpg"},{name:"Dio Brando",link:"https://i.ytimg.com/vi/K0Os61wkEPQ/maxresdefault.jpg"},{name:"Kakyoin Noriaki",link:"https://u.livelib.ru/character/1000005188/o/wg7h5tb7/o-o.jpeg"},{name:"Jean Pierre Polnareff",link:"https://animesweet.com/wp-content/uploads/2021/04/jojo-jean-pierre-polnareff-protagonista-dettagliato-spettacolare-tatuaggio-v3-509381.webp.webp"},{name:"Bruno Bucciarati",link:"https://i.pinimg.com/originals/3e/16/41/3e16419a5cf771bf9a85cb2ea04bf5b3.png"},{name:"Leone Abbacchio",link:"https://i.ytimg.com/vi/PMAhN2ma0Pg/maxresdefault.jpg"},{name:"Giorno Giovanna",link:"https://i.ytimg.com/vi/0ths2Kbxw6o/maxresdefault.jpg"},{name:"Kira Yoshikage",link:"https://ae04.alicdn.com/kf/Ha986a1078b8f47c587a4744d592a148fi/jojo.jpg"},{name:"Diavolo",link:"https://static.wikia.nocookie.net/93dce567-c450-4eef-87d6-69cb4ebb5208"}].forEach((function(e){var t=l(e);n.prepend(t)})),w={formSelector:".popup__form",buttonSubmitSelector:".popup__button",inputSelector:".popup__form-text",inputErrorSelector:"popup__form-text_type_invalid",buttonDisabledSelector:"popup__button_type_disabled"},e(document.querySelectorAll(w.formSelector)).forEach((function(t){!function(t,n){var r=t.querySelectorAll(n.inputSelector),c=t.querySelector(n.buttonSubmitSelector);o(c,t.checkValidity(),n),t.addEventListener("submit",(function(e){e.preventDefault()})),t.addEventListener("reset",(function(){o(c,!1,n)})),e(r).forEach((function(e){e.addEventListener("input",(function(){o(c,t.checkValidity(),n),function(e,t,o){var n=e.validity.valid,r=t.querySelector("#".concat(e.name,"-error"));n?function(e,t,o){e.classList.remove(o.inputErrorSelector),t.textContent=e.validationMessage}(e,r,o):function(e,t,o){e.classList.add(o.inputErrorSelector),t.textContent=e.validationMessage}(e,r,o)}(e,t,n)}))}))}(t,w)})),d.addEventListener("click",(function(){v(s)})),p.addEventListener("click",(function(){b(s)})),x.addEventListener("click",(function(){b(k)})),q.addEventListener("click",(function(){v(k)})),S(s),S(k),S(j),S(c),g(s),g(k),g(j),g(c)})();